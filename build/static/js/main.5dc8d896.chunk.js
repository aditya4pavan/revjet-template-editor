(this["webpackJsonprevjet-template-editor"]=this["webpackJsonprevjet-template-editor"]||[]).push([[0],{106:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(7),a=n(26),r=function(){function e(e,t,n){var i=this;this.initializeTitleBar=function(e){i.documentTitle=o.createElement("label",{id:"documenteditor_title_name",styles:"font-weight:400;text-overflow:ellipsis;white-space:pre;overflow:hidden;user-select:none;cursor:text"}),i.documentTitleContentEditor=o.createElement("div",{id:"documenteditor_title_contentEditor",className:"single-line"}),i.documentTitleContentEditor.appendChild(i.documentTitle),i.tileBarDiv.appendChild(i.documentTitleContentEditor),i.documentTitleContentEditor.setAttribute("title","Document Name. Click or tap to rename this document.");var t="float:right;background: transparent;box-shadow:none; font-family: inherit;border-color: transparent;border-radius: 2px;color:inherit;font-size:12px;text-transform:capitalize;height:28px;font-weight:400;margin-top: 2px;";i.cancel=i.addButton("e-de-icon-Cancel e-de-padding-right","Cancel",t,"de-save","Cancel Text",!1),i.done=i.addButton("e-de-icon-Save e-de-padding-right","Save",t,"de-save","Save Document",!1),i.print=i.addButton("e-de-icon-Print e-de-padding-right","Print",t,"de-print","Print this document (Ctrl+P).",!1),i.open=i.addButton("e-de-icon-Open e-de-padding-right","Open",t,"de-open","Open",!1);i.export=i.addButton("e-de-icon-Download e-de-padding-right","Download",t,"documenteditor-share","Download this document.",!0,[{text:"Microsoft Word (.docx)",id:"word"},{text:"Syncfusion Document Text (.sfdt)",id:"sfdt"}]),e?i.open.element.style.display="none":i.export.element.style.display="none"},this.wireEvents=function(){i.print.element.addEventListener("click",i.onPrint),i.open.element.addEventListener("click",(function(e){if("de-open"===e.target.id){var t=document.getElementById("uploadfileButton");t.value="",t.click()}})),i.done.element.addEventListener("click",(function(e){console.log(i.documentEditor.serialize())})),i.cancel.element.addEventListener("click",(function(e){console.log("Cancel")})),i.documentTitleContentEditor.addEventListener("keydown",(function(e){13===e.keyCode&&(e.preventDefault(),i.documentTitleContentEditor.contentEditable="false",""===i.documentTitleContentEditor.textContent&&(i.documentTitleContentEditor.textContent="Document1"))})),i.documentTitleContentEditor.addEventListener("blur",(function(){""===i.documentTitleContentEditor.textContent&&(i.documentTitleContentEditor.textContent="Document1"),i.documentTitleContentEditor.contentEditable="false",i.documentEditor.documentName=i.documentTitle.textContent})),i.documentTitleContentEditor.addEventListener("click",(function(){i.updateDocumentEditorTitle()}))},this.updateDocumentEditorTitle=function(){i.documentTitleContentEditor.contentEditable="true",i.documentTitleContentEditor.focus(),window.getSelection().selectAllChildren(i.documentTitleContentEditor)},this.updateDocumentTitle=function(){""===i.documentEditor.documentName&&(i.documentEditor.documentName="Untitled"),i.documentTitle.textContent=i.documentEditor.documentName},this.onPrint=function(){i.documentEditor.print()},this.onExportClick=function(e){switch(e.item.id){case"word":i.save("Docx");break;case"sfdt":i.save("Sfdt")}},this.save=function(e){i.documentEditor.save(""===i.documentEditor.documentName?"sample":i.documentEditor.documentName,e)},this.tileBarDiv=e,this.documentEditor=t,this.initializeTitleBar(n),this.wireEvents()}return e.prototype.setTooltipForPopup=function(){console.log(document.getElementById("documenteditor-share-popup").querySelectorAll("li")),document.getElementById("documenteditor-share-popup").querySelectorAll("li")[0].setAttribute("title","Download a copy of this document to your computer as a DOCX file."),document.getElementById("documenteditor-share-popup").querySelectorAll("li")[1].setAttribute("title","Download a copy of this document to your computer as an SFDT file.")},e.prototype.addButton=function(e,t,n,r,c,l,d){var u=this,s=o.createElement("button",{id:r,styles:n});return this.tileBarDiv.appendChild(s),s.setAttribute("title",c),l?new a.DropDownButton({select:this.onExportClick,items:d,iconCss:e,cssClass:"e-caret-hide",content:t,open:function(){u.setTooltipForPopup()}},s):new i.Button({iconCss:e,content:t},s)},e}();t.TitleBar=r},120:function(e,t,n){e.exports=n(164)},125:function(e,t,n){},126:function(e,t,n){},160:function(e,t){},164:function(e,t,n){"use strict";n.r(t);var o=n(1),i=n.n(o),a=n(8),r=n.n(a),c=(n(125),n(63)),l=n(64),d=n(70),u=n(68),s=(n(126),n(0));Object(s.enableRipple)(!0);var m=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"rendereComplete",value:function(){}},{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.rendereComplete()}))}}]),n}(o.PureComponent),p=n(213),E=n(212),h=n(106),f=n(81),v=n(205),g=n(215),C=n(216),b=n(208),y=n(214),T=n(211),w=n(210),k=n(107),D=n.n(k),x=n(108),B=n.n(x),N=Object(v.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function O(e){var t=e.groups,n=void 0===t?[]:t,o=e.insertContent,a=N(),r=i.a.useState(""),c=Object(f.a)(r,2),l=c[0],d=c[1],u=i.a.useState(""),s=Object(f.a)(u,2),m=s[0],p=s[1];return i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-3"},i.a.createElement(b.a,{className:a.formControl,fullWidth:!0},i.a.createElement(g.a,null,"Select Field Group"),i.a.createElement(y.a,{value:l,onChange:function(e){var t=e.target.value;d(t)}},i.a.createElement(C.a,{value:""},i.a.createElement("em",null,"None")),n.map((function(e,t){return i.a.createElement(C.a,{key:t,value:e.id},e.name)}))))),i.a.createElement("div",{className:"col-sm-3"},i.a.createElement(b.a,{className:a.formControl,fullWidth:!0,disabled:""===l},i.a.createElement(g.a,null,"Select Field"),i.a.createElement(y.a,{value:m,onChange:function(e){p(e.target.value)}},i.a.createElement(C.a,{value:""},i.a.createElement("em",null,"None")),(n.find((function(e){return e.id===l}))||{fields:[]}).fields.map((function(e,t){return i.a.createElement(C.a,{key:t,value:e.id},e.name)}))))),i.a.createElement("div",{className:"col-sm-3"},i.a.createElement(w.a,{onClick:function(){return o("BeginGroup:".concat(l))},className:"mt-3",disabled:""===l},i.a.createElement(D.a,null)),i.a.createElement(T.a,{onClick:function(){return o(m)},variant:"outlined",color:"primary",className:"mt-3",disabled:""===l||""===m},"Insert Field"),i.a.createElement(w.a,{onClick:function(){return o("EndGroup:".concat(l))},className:"mt-3",disabled:""===l},i.a.createElement(B.a,null))))}var S=n(109),j=n.n(S);p.a.Inject(E.a);var A=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.apply(this,arguments)).socket=j()("http://localhost:5000",{path:"/pusher"}),e.insertContent=function(t){if(e.container&&t&&""!==t){var n="MERGEFIELD  "+t.replace(/\n/g,"").replace(/\r/g,"").replace(/\r\n/g,"")+"  \\* MERGEFORMAT ";e.container.documentEditor.editor.insertField(n,"\xab"+t+"\xbb")}},e.hostUrl="http://localhost:6000",e.onLoadDefault=function(){e.container.documentEditor.documentName="Getting Started",e.titleBar.updateDocumentTitle(),e.container.documentChange=function(){e.titleBar.updateDocumentTitle(),e.container.documentEditor.focusIn()}},e.state={complete:!1,groups:[]},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.uid;this.socket.emit("template",{id:t}),this.socket.on("webapp",(function(t){console.log(t),t&&Array.isArray(t)&&e.setState({complete:!0,groups:t})}))}},{key:"rendereComplete",value:function(){this.container.serviceUrl=this.hostUrl+"/documenteditor/",this.container.documentEditor.pageOutline="#E0E0E0",this.container.documentEditor.acceptTab=!0,this.container.documentEditor.resize(),this.container.documentEditor.enableWordExport=!0,this.titleBar=new h.TitleBar(document.getElementById("documenteditor_titlebar"),this.container.documentEditor,!0),this.editor=this.container.documentEditor,this.onLoadDefault()}},{key:"render",value:function(){var e=this;return this.state.complete?o.createElement("div",{className:"control-pane"},o.createElement("div",{className:"control-section"},o.createElement("div",{id:"documenteditor_titlebar",className:"e-de-ctn-title"}),o.createElement(O,{groups:this.state.groups,insertContent:this.insertContent}),o.createElement("div",{id:"documenteditor_container_body"},o.createElement(p.a,{id:"container",ref:function(t){e.container=t},style:{display:"block",height:"590px"},enableToolbar:!0,locale:"en-US"}))),o.createElement("button",{onClick:this.handleMerge},"Download")):o.createElement("p",null,"Waiting For Connections")}}]),n}(m);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=n(111),L=n(38);r.a.render(i.a.createElement(I.a,null,i.a.createElement(L.c,null,i.a.createElement(L.a,{exact:!0,path:"/:uid",component:A}),i.a.createElement(L.a,{path:"/",render:function(){return i.a.createElement("h4",{className:"text-center p-5"},"Welcome to Delasoft WYSiWYG Engine")}}))),document.getElementById("root")),document.getElementById("root").classList.add("h-100"),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[120,1,2]]]);
//# sourceMappingURL=main.5dc8d896.chunk.js.map